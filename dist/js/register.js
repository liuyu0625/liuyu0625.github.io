"use strict";var alertSuccess=$(".alert-success"),alertError=$(".alert-danger"),tipError=$(".alert-tip");function checkUn(r){return!!/^(\+86\-)?1[3-9]\d{9}$/.test(r)||(tipError.fadeIn().html("用户名不符合规则"),tipHide(),!1)}function checkPw(r){return!!/^[\w-]{6,20}$/.test(r)||(tipError.fadeIn().html("密码不符合规则"),tipHide(),!1)}function checkSame(r,e){return r===e||(tipError.fadeIn().html("两次密码不一致"),tipHide(),!1)}function tipHide(){setTimeout(function(){tipError.fadeOut(500)},2e3)}$(".btn_register").click(function(){var r={username:$("#inputUsername").val(),password:$("#password").val(),confirmPassword:$("#confirmPassword").val()};checkUn(r.username)&&checkPw(r.password)&&checkSame(r.password,r.confirmPassword)&&$.ajax({url:"http://localhost/project/php/register.php",dataType:"json",data:{username:r.username,password:r.password},success:function(r){alertError.hide(),alertSuccess.show(),"success"===r.type?setTimeout(function(){location.href="./login.html"},2e3):(alertError.show(),alertSuccess.hide(),alertError.html(r.detail),setTimeout(function(){alertError.fadeOut()},3e3))}})});